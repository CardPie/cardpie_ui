<div class="create-deck-popup">
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close><span aria-hidden="true">&times;</span></button>
  </mat-dialog-actions>
  <mat-dialog-content class="mat-typography"  [formGroup]="formController" (ngSubmit)="onSubmit()">
    <h2 mat-dialog-title>Deck name</h2>
    <div class="input-name">
      <input (input)="onInputName($event)" formControlName="deckName" placeholder="Type something..." />
      <a class="notice">0/30 words</a>
    </div>
    <h2 mat-dialog-title>Choose a folder</h2>
    <div class="folder-list" *ngFor="let folder of folderList" fxLayout="row" fxLayoutAlign="space-around center">
      <mat-radio-button formControlName="folderName" name="folderName" [value]="folder.id" class="radio">
        {{ folder.folder_name }}
      </mat-radio-button>
      <div fxLayout="row">
        <p class="number-decks">{{folder.total_deck}} decks</p>
        <mat-icon mat-button>settings</mat-icon>
      </div>
    </div>
    <div class="folder-list" fxLayout="row" fxLayoutAlign="space-around center" *ngIf="showNewFolder">
      <mat-radio-button formControlName="folderName" name="folderName" [value]="newfolderName" class="radio">
        <p *ngIf="!editMode">New folder</p>
        <ng-container *ngIf="editMode">
          <input type="text" [(ngModel)]="newfolderNameInput" class="edit-input" placeholder="Enter folder name"/>
        </ng-container>
      </mat-radio-button>
      <div fxLayout="row">
        <p class="number-decks">0 decks</p>
        <div class="setting-btn">
          <mat-icon mat-button [matMenuTriggerFor]="beforeMenu">settings</mat-icon>
          <mat-menu #beforeMenu="matMenu" xPosition="before">
            <button mat-menu-item (click)="deleteNewFolder()">
              Delete
            </button>
            <button mat-menu-item (click)="enterEditMode()">Edit</button>
          </mat-menu>
        </div>
      </div>
    </div>

    <div class="create-new-folder-btn" fxLayout="row" fxLayoutAlign="start center" (click)="createNewFolder()"
      *ngIf="!showNewFolder">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
        <g opacity="0.5">
          <circle cx="13" cy="13" r="13" fill="#D9D9D9" />
          <path d="M13 7.75V18.25M7.75 13H18.25" stroke="black" stroke-width="1.5" stroke-linecap="round"
            stroke-linejoin="round" />
        </g>
      </svg>
      <p>Create new folders</p>
    </div>
    <button mat-raised-button color="primary" class="save-btn" type="submit" (click)="onSubmit()">
      Save
    </button>
  </mat-dialog-content>
</div>